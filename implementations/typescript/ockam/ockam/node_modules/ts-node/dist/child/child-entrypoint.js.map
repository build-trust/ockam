{"version":3,"file":"child-entrypoint.js","sourceRoot":"","sources":["../../src/child/child-entrypoint.ts"],"names":[],"mappings":";;AAAA,gCAAmD;AACnD,+BAA4C;AAE5C,MAAM,eAAe,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACxC,MAAM,SAAS,GAAG,yBAAyB,CAAC;AAC5C,IAAI,CAAC,eAAe,CAAC,UAAU,CAAC,SAAS,CAAC;IAAE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAC;AAC/E,MAAM,aAAa,GAAG,eAAe,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;AAC9D,MAAM,OAAO,GAAG,IAAI,CAAC,KAAK,CACxB,IAAA,2BAAoB,EAAC,MAAM,CAAC,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC,QAAQ,EAAE,CACpD,CAAC;AACpB,OAAO,CAAC,gBAAgB,GAAG,IAAI,CAAC;AAChC,OAAO,CAAC,UAAU,GAAG,UAAU,CAAC;AAChC,OAAO,CAAC,eAAe,CAAC,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;AAC5C,OAAO,CAAC,eAAe,CAAC,QAAQ,GAAG,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;AAEzD,IAAA,eAAS,EAAC,OAAO,CAAC,CAAC","sourcesContent":["import { BootstrapState, bootstrap } from '../bin';\nimport { brotliDecompressSync } from 'zlib';\n\nconst base64ConfigArg = process.argv[2];\nconst argPrefix = '--brotli-base64-config=';\nif (!base64ConfigArg.startsWith(argPrefix)) throw new Error('unexpected argv');\nconst base64Payload = base64ConfigArg.slice(argPrefix.length);\nconst payload = JSON.parse(\n  brotliDecompressSync(Buffer.from(base64Payload, 'base64')).toString()\n) as BootstrapState;\npayload.isInChildProcess = true;\npayload.entrypoint = __filename;\npayload.parseArgvResult.argv = process.argv;\npayload.parseArgvResult.restArgs = process.argv.slice(3);\n\nbootstrap(payload);\n"]}