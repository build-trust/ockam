/**
********************************************************************************************************
 * @file        test.atecc608a.c
 * @author      Mark Mulrooney <mark@ockam.io>
 * @copyright   Copyright (c) 2019, Ockam Inc.
 * @brief   
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                             INCLUDE FILES                                            *
 ********************************************************************************************************
 */

#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>

#include <common/inc/ockam_def.h>
#include <common/inc/ockam_err.h>

#include <vault/inc/ockam_vault.h>

/*
 ********************************************************************************************************
 *                                                DEFINES                                               *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                               CONSTANTS                                              *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                               DATA TYPES                                             *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                          FUNCTION PROTOTYPES                                         *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                            GLOBAL VARIABLES                                          *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                           GLOBAL FUNCTIONS                                           *
 ********************************************************************************************************
 */

/*
 ********************************************************************************************************
 *                                            LOCAL FUNCTIONS                                           *
 ********************************************************************************************************
 */



/**
 ********************************************************************************************************
 *                                             main()
 * @brief   Main point of entry

 * @param   None
 * 
 * @return  None
 * 
 ********************************************************************************************************
 */

void main (void)
{
    OCKAM_ERR err;
    uint8_t i;
    uint8_t rand_num[32];


    err = ockam_vault_init(0);
    if(err != OCKAM_ERR_NONE) {
        printf("Error: Ockam Vauilt Init failed\r\n");
    }

    err = ockam_vault_random(&rand_num, 32);
    if(err != OCKAM_ERR_NONE) {
        printf("Error: Ockam Vault Random failed\r\n");
    }

    printf("Random Number Generation Output:\r\n");

    for(i = 1; i <= 32; i++) {
        printf("%02X ", rand_num[i-1]);
        if(i % 8 == 0) {
            printf("\r\n");
        }
    }

    return;
}

