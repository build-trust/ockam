[package]
authors = ["Ockam Developers"]
edition = "2018"
name = "ockam-vault"
version = "0.1.0"

[lib]
crate-type = ["rlib"]

[profile.release]
lto = true

[features]
default = []
atecc608a = ["c_bindings", "c_rust_memory"]
ffi = ["ffi-support", "lazy_static"]
os = ["keychain-services", "security-framework"]

[dependencies]
aead =  { version = "0.3", default-features = false, features = ["alloc"]}
aes-gcm = { version = "0.8", default-features = false, features = ["aes"] }
arrayref = "0.3"
cfg-if = "1.0.0"
curve25519-dalek = { version = "3.0", default-features = false, features = ["u32_backend"] }
ed25519-dalek = { version = "1.0.1", default-features = false }
ffi-support = { version = "0.4", optional = true }
hashbrown = { version = "0.9.1", default-features = false, features = ["inline-more","ahash"] }
hex = { version = "0.4",  default-features = false }
hkdf = { version = "0.9", default-features = false }
lazy_static = { version = "1.4", optional = true }
ockam-common = { version = "0.1", path = "../common" }
p256 = { version = "0.5", default-features = false, features = ["arithmetic", "zeroize"] }
rand = { version = "0.7", default-features = false}
sha2 = { version = "0.9", default-features = false}
subtle = { version = "2.3", default-features = false }
x25519-dalek = { version = "1.0", default-features = false }
xeddsa = { version = "0.1", path = "../xeddsa" }
zeroize = { version = "1.1", features = ["zeroize_derive"] }
c_bindings = { path = "../c/bindings", optional = true  }
c_rust_memory = { path = "../c/rust_memory", optional = true  }

[target.'cfg(target_os = "macos")'.dependencies]
security-framework = { version = "2.0", optional = true }
keychain-services = { version = "0.1", git = "https://github.com/iqlusioninc/keychain-services.rs", optional = true }
